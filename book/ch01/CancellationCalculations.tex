\documentclass[a4paper,11pt]{article}
\usepackage{amsmath}
\usepackage[retainorgcmds]{IEEEtrantools}

\begin{document}
\subsection{Calculations for onIssue(mod) $ mod \in {Create, Renew}$}
Given a peril centric Socotra data model object
\begin{equation*}
Let \; obj_{peril} = (peril.policy, \; peril.exposure, \; peril)
\end{equation*}
We can make premium, commission, tax and fee calculations with the following formulas:
\begin{equation*}
GrossPremium = \sum_{p \in Perils} \Delta t \cdot p.liquid.premium(obj_p) 
\end{equation*}
Here for a policy of covering a time span of $\Delta t$ we use the calculations, in each perils liquid file,
of premium per unit time, to determine a sum which is the policy's gross premium.

Similarly for commissions
\begin{equation*}
GrossCommission = \sum_{p \in Perils} \Delta t \cdot p.liquid.commission(obj_p)
\end{equation*}

With premiums and commissions available on the peril, tax and fee calculations are made as
\begin{IEEEeqnarray*}{rCl}
GrossTax & = & \sum_{p \in Perils} \sum_{tx \in Taxes} tx.liquid.tax(obj'_p) \\
GrossFee & = & \sum_{f \in Fees} f.liquid.fee(policy', policyholder')
\end{IEEEeqnarray*}

\subsection{Calculations for onIssue(mod) $mod \in {Cancel}$}
On cancellation issue events, the calculations are similar to the above; however, any calculations
of a peril premium, commission, tax, or fee which is made in the policy's cancellations.liquid file
takes precedent over a calculation from the peril, tax, or fee specific liquid file.
\begin{IEEEeqnarray*}{rCl}
GrossPremium & = \sum_{p \in Perils} & cancellations.liquid.premium(obj_p, fees^{old}) \\
                                  &&| \; \Delta t \cdot p.liquid.premium(obj_p) \\
GrossCommission & = \sum_{p \in Perils} & cancellations.liquid.commission(obj_p, fees^{old}) \\
                                     &&| \; \Delta t \cdot p.liquid.commission(obj_p)
\end{IEEEeqnarray*}
Note that in the cancellations.liquid file the premium calculation is not in units of amount per time
so it is not multiplied by $\Delta t$.

Then for taxes and fees we have
\begin{IEEEeqnarray*}{rCll}
GrossTax & = & \sum_{p \in Perils} \sum_{tx \in Taxes} & cancellations.liquid.tax_{tx}(obj'_p, fees^{old}) \\
                                               &&&| \; tx.liquid.tax(obj'_p) \\
GrossFee & = & \sum_{f \in Fees} & cancellations.liquid.fee_f(obj'.p, fees^{old}) \\
                           &&& | \; f.liquid.fee(policy', policyholder')
\end{IEEEeqnarray*}
The term $fees^{old}$ signifies the fees prior to the cancellation event and is supplied for use in
GrossFee related calculations.

\subsection{Calculations for onIssue(mod) $mod \in {Reinstate}$}
Lastly the reinstatement is similar to the cancellation case in that calculations provided in a
reinstatements.liquid take precedence over calculations from a peril, tax, or fee specific liquid files.
\begin{IEEEeqnarray*}{rCll}
Let \; c & = & Cancellation & \\
GrossPremium & = & \sum_{p \in Perils} & reinstatements.liquid.premium(obj_p, c) \\
             &&                      & | \; \Delta t \cdot p.liquid.premium(obj_p) \\
GrossCommission & = & \sum_{p \in Perils} & reinstatements.liquid.commission(obj_p, c) \\
             &&                         & | \; \Delta t \cdot p.liquid.commission(obj_p) \\
GrossTax & = & \sum_{p \in Perils} \sum_{tx \in Taxes} & reinstatements.liquid.tax_{tx}(obj'_p, c) \\
         &   &                   & | \; tx.liquid.tax(obj'_p) \\
GrossFee & = & \sum_{f \in Fees} & reinstatements.liquid.fee_f(obj'_p, c) \\
         &   &                  & | \; f.liquid.fee(policy', policyholder')
\end{IEEEeqnarray*}

\end{document}

